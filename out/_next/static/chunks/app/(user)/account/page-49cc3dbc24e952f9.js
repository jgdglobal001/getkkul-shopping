(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3581],{1281:(e,s,r)=>{Promise.resolve().then(r.bind(r,9531)),Promise.resolve().then(r.bind(r,9053))},2720:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(5155),l=r(2115);function t(e){let{isOpen:s,onClose:r,title:t,children:n,width:i="w-96"}=e,[d,o]=(0,l.useState)(!1),[c,m]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{s?(o(!0),setTimeout(()=>m(!0),10)):(m(!1),setTimeout(()=>o(!1),350))},[s]),(0,l.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s&&r()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s,r]),d)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"\n          fixed inset-0 z-40 transition-all duration-300 ease-out\n          ".concat(c?"bg-black/50":"bg-black/0","\n        "),onClick:r,style:{backdropFilter:c?"blur(2px)":"blur(0px)",WebkitBackdropFilter:c?"blur(2px)":"blur(0px)"}}),(0,a.jsxs)("div",{className:"\n          fixed inset-y-0 right-0 z-50\n          ".concat(i,"\n          bg-white shadow-2xl\n          flex flex-col\n          transform transition-all duration-350 ease-out\n          ").concat(c?"translate-x-0 opacity-100":"translate-x-full opacity-0","\n        "),style:{transitionProperty:"transform, opacity, box-shadow",transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"},children:[(0,a.jsxs)("div",{className:"\n            flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50 flex-shrink-0\n            transition-all duration-400 ease-out\n            ".concat(c?"translate-y-0 opacity-100":"-translate-y-4 opacity-0","\n          "),style:{transitionDelay:c?"100ms":"0ms"},children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:t}),(0,a.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-200 rounded-full transition-all duration-200 hover:scale-105 active:scale-95","aria-label":"Close",children:(0,a.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"\n            flex-1 overflow-y-auto\n            transition-all duration-400 ease-out\n            ".concat(c?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n          "),style:{transitionDelay:c?"200ms":"0ms"},children:(0,a.jsx)("div",{className:"p-6",children:n})})]})]}):null}},2785:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(5155),l=r(9688);let t=e=>{let{children:s,className:r}=e;return(0,a.jsx)("div",{className:(0,l.QP)("max-w-[1140px] mx-auto px-4 lg:px-0",r),children:s})}},3959:(e,s,r)=>{"use strict";r.d(s,{k:()=>i});var a=r(2115),l=r(8919),t=r(4540),n=r(9281);function i(){let{data:e,status:s}=(0,l.wV)(),r="loading"===s,i=(0,t.wA)(),d=(0,t.d4)(e=>e.getkkul.userInfo);return(0,a.useEffect)(()=>{(async()=>{var s,a,l;if(!r)if(null==e||null==(s=e.user)?void 0:s.id){if(!d||d.id!==e.user.id)try{let s=await fetch("/api/user/current"),r=await s.json();if(s.ok&&r)i((0,n.nu)(r));else{let s={id:e.user.id,name:e.user.name||"",email:e.user.email||"",image:e.user.image||"",role:e.user.role||"user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),emailVerified:!0,profile:{firstName:(null==(a=e.user.name)?void 0:a.split(" ")[0])||"",lastName:(null==(l=e.user.name)?void 0:l.split(" ").slice(1).join(" "))||"",phone:"",addresses:[]},preferences:{newsletter:!1,notifications:!0},cart:[],wishlist:[],orders:[]};i((0,n.nu)(s))}}catch(e){console.error("Error syncing user data:",e)}}else(null==e?void 0:e.user)||!d||i((0,n.a1)())})()},[e,r,i,d]),{user:d,session:e,isLoading:r,isAuthenticated:!!(null==e?void 0:e.user)}}},9053:(e,s,r)=>{"use strict";r.d(s,{default:()=>m});var a=r(5155),l=r(8919),t=r(5695),n=r(2115),i=r(2785),d=r(351),o=r(6874),c=r.n(o);let m=e=>{let{children:s,fallbackPath:r="/auth/signin",loadingMessage:o="Checking authentication..."}=e,{data:m,status:u}=(0,l.wV)(),x=(0,t.useRouter)(),[h,p]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if("loading"!==u)if("unauthenticated"!==u&&(null==m?void 0:m.user))p(!1);else{p(!0);let e=setTimeout(()=>{x.push(r)},1500);return()=>clearTimeout(e)}},[m,u,x,r]),"loading"===u)?(0,a.jsx)(i.A,{className:"py-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-96",children:[(0,a.jsx)(d.TwU,{className:"animate-spin text-4xl text-theme-color mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:o})]})}):"unauthenticated"!==u&&((null==m?void 0:m.user)||"authenticated"!==u)&&!h?(0,a.jsx)(a.Fragment,{children:s}):(0,a.jsx)(i.A,{className:"py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD12"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Authentication Required"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to access this page."}),(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded mb-4 text-sm text-left",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Status:"})," ",u]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Has Session:"})," ",m?"Yes":"No"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Has User:"})," ",(null==m?void 0:m.user)?"Yes":"No"]}),(null==m?void 0:m.user)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"User Email:"})," ",m.user.email]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[(0,a.jsx)(d.TwU,{className:"animate-spin text-xl text-theme-color"}),(0,a.jsx)("span",{className:"text-gray-500",children:"Checking authentication..."})]}),(0,a.jsxs)("div",{className:"space-x-4",children:[(0,a.jsx)(c(),{href:"/auth/signin",className:"inline-block bg-theme-color text-white px-6 py-2 rounded hover:bg-theme-color/80",children:"Sign In"}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"inline-block bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600",children:"Refresh Page"})]})]})})}},9281:(e,s,r)=>{"use strict";r.d(s,{Ay:()=>h,CG:()=>o,Pj:()=>u,a1:()=>i,bE:()=>l,iR:()=>m,nu:()=>t,o7:()=>d,wT:()=>x});let a=(0,r(5710).Z0)({name:"getkkul",initialState:{cart:[],favorite:[],userInfo:null},reducers:{addToCart:(e,s)=>{var r;let a=null==e||null==(r=e.cart)?void 0:r.find(e=>{var r;return(null==e?void 0:e.id)===(null==(r=s.payload)?void 0:r.id)});a?a.quantity+=1:e.cart.push({...s.payload,quantity:1})},increaseQuantity:(e,s)=>{var r;let a=null==e||null==(r=e.cart)?void 0:r.find(e=>(null==e?void 0:e.id)===s.payload);a&&(a.quantity+=1)},decreaseQuantity:(e,s)=>{var r;let a=null==e||null==(r=e.cart)?void 0:r.find(e=>(null==e?void 0:e.id)===s.payload);a&&(a.quantity-=1)},removeFromCart:(e,s)=>{e.cart=e.cart.filter(e=>(null==e?void 0:e.id)!==s.payload)},resetCart:e=>{e.cart=[]},addToFavorite:(e,s)=>{var r;(null==e||null==(r=e.favorite)?void 0:r.find(e=>{var r;return(null==e?void 0:e.id)===(null==(r=s.payload)?void 0:r.id)}))?e.favorite=e.favorite.filter(e=>(null==e?void 0:e.id)!==s.payload.id):e.favorite.push(s.payload)},resetFavorite:e=>{e.favorite=[]},addUser:(e,s)=>{e.userInfo=s.payload},updateUser:(e,s)=>{e.userInfo&&(e.userInfo={...e.userInfo,...s.payload})},removeUser:e=>{e.userInfo=null}}}),{addToCart:l,addUser:t,updateUser:n,removeUser:i,increaseQuantity:d,decreaseQuantity:o,removeFromCart:c,resetCart:m,addToFavorite:u,resetFavorite:x}=a.actions,h=a.reducer},9531:(e,s,r)=>{"use strict";r.d(s,{default:()=>u});var a=r(5155),l=r(8919),t=r(2115),n=r(6874),i=r.n(n);function d(e){var s,r,n,i;let{profile:d,onSubmit:o,onCancel:c,loading:m=!1}=e,{data:u}=(0,l.wV)(),[x,h]=(0,t.useState)({...d,currentPassword:"",newPassword:"",confirmPassword:""}),[p,g]=(0,t.useState)(!1),[v,f]=(0,t.useState)({}),[j,b]=(0,t.useState)(!1),y=(0,t.useRef)(null),N=(null==u||null==(r=u.user)||null==(s=r.image)?void 0:s.includes("googleusercontent"))||(null==u||null==(i=u.user)||null==(n=i.image)?void 0:n.includes("github"))||!1,w=e=>{let{name:s,value:r}=e.target;h(e=>({...e,[s]:r})),v[s]&&f(e=>({...e,[s]:""}))},P=async e=>{var s;let r=null==(s=e.target.files)?void 0:s[0];if(r){g(!0);try{let e=new FormData;e.append("image",r),e.append("email",x.email);let s=await fetch("/api/user/upload-image",{method:"POST",body:e}),a=await s.json();a.success?h(e=>({...e,image:a.imageUrl})):f(e=>({...e,image:a.error||"Failed to upload image"}))}catch(e){f(e=>({...e,image:"Failed to upload image"}))}finally{g(!1)}}};return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{let e={};return x.name.trim()||(e.name="Name is required"),x.email.trim()?/\S+@\S+\.\S+/.test(x.email)||(e.email="Please enter a valid email"):e.email="Email is required",x.phone&&!/^\+?[\d\s\-\(\)]+$/.test(x.phone)&&(e.phone="Please enter a valid phone number"),(j||x.newPassword||x.currentPassword)&&(N||x.currentPassword.trim()||(e.currentPassword="Current password is required"),x.newPassword&&(x.newPassword.length<6&&(e.newPassword="New password must be at least 6 characters"),x.newPassword!==x.confirmPassword&&(e.confirmPassword="Passwords do not match")),x.confirmPassword&&!x.newPassword&&(e.newPassword="New password is required")),f(e),0===Object.keys(e).length})()&&o(x)},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[x.image?(0,a.jsx)("img",{src:x.image,alt:"Profile",className:"w-[120px] h-[120px] rounded-full object-cover border-4 border-gray-200"}):(0,a.jsx)("div",{className:"w-[120px] h-[120px] bg-gray-300 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"No Image"})}),p&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:(0,a.jsxs)("svg",{className:"animate-spin h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),(0,a.jsx)("path",{fill:"currentColor",className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("input",{type:"file",ref:y,onChange:P,accept:"image/*",className:"hidden"}),(0,a.jsx)("button",{type:"button",onClick:()=>{var e;return null==(e=y.current)?void 0:e.click()},disabled:p,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50 transition-colors",children:p?"Uploading...":"Change Picture"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"JPG, GIF or PNG. Max size 5MB."}),v.image&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.image})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",name:"name",value:x.name,onChange:w,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(v.name?"border-red-500":"border-gray-300"),placeholder:"Enter your full name"}),v.name&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",name:"email",value:x.email,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed",disabled:!0,readOnly:!0}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",name:"phone",value:x.phone,onChange:w,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(v.phone?"border-red-500":"border-gray-300"),placeholder:"Enter your phone number"}),v.phone&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.phone})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Password Settings"}),(0,a.jsx)("button",{type:"button",onClick:()=>b(!j),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:j?"Cancel":"Change Password"})]}),j&&(0,a.jsxs)("div",{className:"space-y-4",children:[N&&(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("span",{className:"font-medium",children:"OAuth User:"})," You're signed in with a social account. You can set a password to enable email/password login as well."]})}),!N&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),(0,a.jsx)("input",{type:"password",name:"currentPassword",value:x.currentPassword,onChange:w,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(v.currentPassword?"border-red-500":"border-gray-300"),placeholder:"Enter your current password"}),v.currentPassword&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.currentPassword})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),(0,a.jsx)("input",{type:"password",name:"newPassword",value:x.newPassword,onChange:w,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(v.newPassword?"border-red-500":"border-gray-300"),placeholder:"Enter new password (min. 6 characters)"}),v.newPassword&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.newPassword})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),(0,a.jsx)("input",{type:"password",name:"confirmPassword",value:x.confirmPassword,onChange:w,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(v.confirmPassword?"border-red-500":"border-gray-300"),placeholder:"Confirm your new password"}),v.confirmPassword&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.confirmPassword})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-6 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-theme-color text-white rounded-md hover:bg-theme-color/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),(0,a.jsx)("path",{fill:"currentColor",className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Profile"})]})]})}var o=r(2720),c=r(4540),m=r(3959);function u(){var e,s,r,n,u,x,h,p,g,v,f,j,b,y;let{data:N,update:w}=(0,l.wV)();(0,m.k)();let{user:P,isAdmin:k,isAuthenticated:C,userRole:S}=function(){let e=(0,c.d4)(e=>e.getkkul.userInfo);return{user:e,isAdmin:(null==e?void 0:e.role)==="admin",isAuthenticated:!!e,userId:(null==e?void 0:e.id)||null,userRole:(null==e?void 0:e.role)||"user"}}(),[A,D]=(0,t.useState)(null),[E,F]=(0,t.useState)(!0),[I,U]=(0,t.useState)(0),[T,O]=(0,t.useState)(!1),[q,M]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var e;(null==N||null==(e=N.user)?void 0:e.email)&&Y()},[null==N||null==(e=N.user)?void 0:e.email]);let Y=async()=>{try{var e;let s=await fetch("/api/user/profile?email=".concat(encodeURIComponent((null==N||null==(e=N.user)?void 0:e.email)||""))),r=await s.json();r.profile&&D(r.profile),r.orders&&Array.isArray(r.orders)&&U(r.orders.length),F(!1)}catch(e){console.error("Error fetching profile:",e),F(!1)}},z=async e=>{M(!0);try{var s;let r=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:null==N||null==(s=N.user)?void 0:s.email,profile:{firstName:e.firstName,lastName:e.lastName,phone:e.phone},name:"".concat(e.firstName," ").concat(e.lastName),image:e.image,currentPassword:e.currentPassword,newPassword:e.newPassword})}),a=await r.json();if(r.ok)D(a.profile),await w({...N,user:{...null==N?void 0:N.user,name:a.name,image:a.image}}),O(!1);else throw Error(a.error||"Failed to update profile")}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile. Please try again.")}finally{M(!1)}};return E?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-48"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[(0,a.jsx)("div",{className:"relative",children:(null==N||null==(s=N.user)?void 0:s.image)?(0,a.jsx)("img",{src:N.user.image,alt:(null==N||null==(r=N.user)?void 0:r.name)||"Profile",className:"w-20 h-20 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-300 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl font-semibold text-gray-600",children:(null==N||null==(x=N.user)||null==(u=x.name)||null==(n=u.charAt(0))?void 0:n.toUpperCase())||"U"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:(null==N||null==(h=N.user)?void 0:h.name)||"User"}),(0,a.jsx)("p",{className:"text-gray-600",children:null==N||null==(p=N.user)?void 0:p.email}),(null==A?void 0:A.phone)&&(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:A.phone})]})]}),(0,a.jsx)("button",{onClick:()=>O(!0),className:"px-6 py-2 bg-theme-color text-white rounded-lg hover:bg-theme-color/90 transition-colors",children:"Edit Profile"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-theme-color mb-2",children:I}),(0,a.jsx)("div",{className:"text-gray-600",children:"Total Orders"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-theme-color mb-2",children:(null==A||null==(g=A.addresses)?void 0:g.length)||0}),(0,a.jsx)("div",{className:"text-gray-600",children:"Saved Addresses"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-theme-color mb-2",children:new Date().getFullYear()-2024||1}),(0,a.jsx)("div",{className:"text-gray-600",children:"Years with Us"})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current User Information (From Store)"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"ID:"})," ",(null==P?void 0:P.id)||"Not available"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Name:"})," ",(null==P?void 0:P.name)||"Not available"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Email:"})," ",(null==P?void 0:P.email)||"Not available"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Role:"})," ",(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("admin"===S?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:S})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Is Admin:"})," ",(0,a.jsx)("span",{className:k?"text-red-600 font-bold":"text-green-600",children:k?"Yes":"No"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Is Authenticated:"})," ",(0,a.jsx)("span",{className:C?"text-green-600":"text-red-600",children:C?"Yes":"No"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Provider:"})," ",(null==P?void 0:P.provider)||"Not available"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Created At:"})," ",(null==P?void 0:P.createdAt)?new Date(P.createdAt).toLocaleDateString():"Not available"]})]})]}),(null==P?void 0:P.profile)&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[(0,a.jsx)("p",{children:(0,a.jsx)("span",{className:"font-medium",children:"Profile:"})}),(0,a.jsxs)("div",{className:"ml-4 text-xs text-gray-600",children:[(0,a.jsxs)("p",{children:["First Name: ",P.profile.firstName]}),(0,a.jsxs)("p",{children:["Last Name: ",P.profile.lastName]}),(0,a.jsxs)("p",{children:["Phone: ",P.profile.phone||"Not provided"]}),(0,a.jsxs)("p",{children:["Addresses: ",(null==(v=P.profile.addresses)?void 0:v.length)||0," saved"]})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 ".concat("admin"===S?"lg:grid-cols-3":"lg:grid-cols-4"," gap-4"),children:["admin"===S&&(0,a.jsxs)(i(),{href:"/account/admin",className:"flex items-center p-4 border-2 border-red-200 bg-red-50 rounded-lg hover:border-red-400 hover:bg-red-100 transition-colors group",children:[(0,a.jsx)("div",{className:"mr-3 text-2xl",children:"\uD83D\uDC51"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-red-800 group-hover:text-red-900",children:"Admin Dashboard"}),(0,a.jsx)("div",{className:"text-sm text-red-600",children:"Super user access"})]})]}),(0,a.jsxs)(i(),{href:"/account/addresses",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-theme-color transition-colors group",children:[(0,a.jsx)("div",{className:"mr-3 text-2xl",children:"\uD83D\uDCCD"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 group-hover:text-theme-color",children:"Manage Addresses"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(null==A||null==(f=A.addresses)?void 0:f.length)||0," saved"]})]})]}),(0,a.jsxs)(i(),{href:"/account/orders",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-theme-color transition-colors group",children:[(0,a.jsx)("div",{className:"mr-3 text-2xl",children:"\uD83D\uDECD️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 group-hover:text-theme-color",children:"Order History"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[I," orders"]})]})]}),(0,a.jsxs)(i(),{href:"/account/payment",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-theme-color transition-colors group",children:[(0,a.jsx)("div",{className:"mr-3 text-2xl",children:"\uD83D\uDCB3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 group-hover:text-theme-color",children:"Payment Methods"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Manage cards"})]})]}),(0,a.jsxs)(i(),{href:"/account/settings",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-theme-color transition-colors group",children:[(0,a.jsx)("div",{className:"mr-3 text-2xl",children:"⚙️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 group-hover:text-theme-color",children:"Settings"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Privacy & security"})]})]})]})]})]}),(0,a.jsx)(o.A,{isOpen:T,onClose:()=>O(!1),title:"Edit Profile",children:(0,a.jsx)(d,{profile:{name:(null==N||null==(j=N.user)?void 0:j.name)||"",email:(null==N||null==(b=N.user)?void 0:b.email)||"",phone:(null==A?void 0:A.phone)||"",image:(null==N||null==(y=N.user)?void 0:y.image)||""},onSubmit:z,onCancel:()=>O(!1),loading:q})})]})}}},e=>{e.O(0,[7128,6804,1495,4575,1261,7538,8681,4679,734,4610,8641,6546,4314,296,1436,2448,1294,4162,7358],()=>e(e.s=1281)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8814],{1651:(e,a,s)=>{"use strict";s.d(a,{default:()=>d});var t=s(5155),l=s(2785),n=s(8919),r=s(2115),o=s(6874),c=s.n(o),i=s(5695);function d(e){var a,s,o;let{children:d}=e,{data:u}=(0,n.wV)(),m=(0,i.usePathname)(),[h,p]=(0,r.useState)(0),x=(null==u||null==(a=u.user)?void 0:a.email)==="admin@shofy.com"||(null==u||null==(s=u.user)?void 0:s.role)==="admin",b=x?[{id:"dashboard",label:"Dashboard",icon:"\uD83D\uDCCA",path:"/account/admin"},{id:"profile",label:"Profile",icon:"\uD83D\uDC64",path:"/account"},{id:"settings",label:"Settings",icon:"⚙️",path:"/account/settings"}]:[{id:"profile",label:"Profile",icon:"\uD83D\uDC64",path:"/account"},{id:"addresses",label:"Addresses",icon:"\uD83D\uDCCD",path:"/account/addresses"},{id:"orders",label:"Orders",icon:"\uD83D\uDECD️",path:"/account/orders",count:h},{id:"payment",label:"Payment",icon:"\uD83D\uDCB3",path:"/account/payment"},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14",path:"/account/notifications"},{id:"settings",label:"Settings",icon:"⚙️",path:"/account/settings"}];(0,r.useEffect)(()=>{var e;(null==u||null==(e=u.user)?void 0:e.email)&&f()},[null==u||null==(o=u.user)?void 0:o.email]);let f=async()=>{try{var e;let a=await fetch("/api/user/profile?email=".concat(encodeURIComponent((null==u||null==(e=u.user)?void 0:e.email)||""))),s=await a.json();s.orders&&Array.isArray(s.orders)&&p(s.orders.length)}catch(e){console.error("Error fetching order count:",e)}};return(0,t.jsx)(l.A,{className:"py-10",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:x?"Admin Dashboard":"My Account"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:x?"Manage users, orders, analytics, and system settings":"Manage your profile, addresses, orders, and account settings"})]}),(0,t.jsxs)("div",{className:"w-full mb-8",children:[(0,t.jsx)("div",{className:"hidden md:block border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:b.map(e=>(0,t.jsxs)(c(),{href:e.path,className:"group inline-flex items-center py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat(m===e.path?"border-theme-color text-theme-color":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),(0,t.jsx)("span",{children:e.label}),void 0!==e.count&&e.count>0&&(0,t.jsx)("span",{className:"ml-2 bg-theme-color text-white rounded-full px-2 py-1 text-xs",children:e.count})]},e.id))})}),(0,t.jsxs)("div",{className:"md:hidden",children:[(0,t.jsx)("label",{htmlFor:"tab-select",className:"sr-only",children:"Select a section"}),(0,t.jsx)("select",{id:"tab-select",value:m,onChange:e=>window.location.href=e.target.value,className:"block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-theme-color focus:outline-none focus:ring-theme-color sm:text-sm",children:b.map(e=>(0,t.jsxs)("option",{value:e.path,children:[e.icon," ",e.label,void 0!==e.count&&e.count>0&&" (".concat(e.count,")")]},e.id))})]})]}),(0,t.jsx)("div",{className:"min-h-[400px]",children:d})]})})}},2785:(e,a,s)=>{"use strict";s.d(a,{A:()=>n});var t=s(5155),l=s(9688);let n=e=>{let{children:a,className:s}=e;return(0,t.jsx)("div",{className:(0,l.QP)("max-w-[1140px] mx-auto px-4 lg:px-0",s),children:a})}},4214:(e,a,s)=>{Promise.resolve().then(s.bind(s,1651))}},e=>{e.O(0,[7128,6804,1495,4575,1261,7538,8681,4679,734,4610,8641,6546,4314,296,1436,2448,1294,4162,7358],()=>e(e.s=4214)),_N_E=e.O()}]);
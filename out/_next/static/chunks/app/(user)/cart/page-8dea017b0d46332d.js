(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2775,6916],{172:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(5155),a=s(9281),l=s(4540),n=s(4438),i=s(4315),d=s(9911),o=s(2115),c=s(9688);let u=e=>{let{product:t,className:s,variant:u="default",size:m="md",showQuantity:x=!0}=e,h=(0,l.wA)(),{cart:g}=(0,l.d4)(e=>null==e?void 0:e.getkkul),[b,y]=(0,o.useState)(null),[p,v]=(0,o.useState)(!1),[f,j]=(0,o.useState)(!1),[N,w]=(0,o.useState)(!1);(0,o.useEffect)(()=>{w(!0)},[]),(0,o.useEffect)(()=>{if(!N)return;let e=null==g?void 0:g.find(e=>(null==e?void 0:e.id)===(null==t?void 0:t.id));e?y(e):y(null)},[g,t,N]);let C=async()=>{t&&t.stock>0?(v(!0),h((0,a.bE)(t)),setTimeout(()=>{v(!1),j(!0),n.Ay.success("".concat(null==t?void 0:t.title.substring(0,15),"... added to cart!"),{duration:2e3,style:{background:"#10B981",color:"white"}}),setTimeout(()=>j(!1),2e3)},300)):n.Ay.error("Product is out of stock!",{style:{background:"#EF4444",color:"white"}})},k=!(null==t?void 0:t.stock)||t.stock<=0;return N?(0,r.jsx)(r.Fragment,{children:b&&x?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 bg-white rounded-lg border border-gray-200 p-1 shadow-sm",children:[(0,r.jsx)("button",{disabled:(null==b?void 0:b.quantity)<=1,onClick:()=>{(null==b?void 0:b.quantity)>1?(h((0,a.CG)(null==t?void 0:t.id)),n.Ay.success("Quantity decreased!",{duration:1500,style:{background:"#F59E0B",color:"white"}})):n.Ay.error("Minimum quantity is 1",{style:{background:"#EF4444",color:"white"}})},className:"flex items-center justify-center w-8 h-8 bg-gray-100 hover:bg-red-100 text-gray-600 hover:text-red-600 rounded-md border transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 disabled:hover:text-gray-600",children:(0,r.jsx)(d.iu5,{className:"w-3 h-3"})}),(0,r.jsxs)("div",{className:"flex flex-col items-center min-w-[40px]",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:null==b?void 0:b.quantity}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"in cart"})]}),(0,r.jsx)("button",{onClick:()=>{h((0,a.o7)(null==t?void 0:t.id)),n.Ay.success("Quantity increased!",{duration:1500,style:{background:"#10B981",color:"white"}})},disabled:(null==b?void 0:b.quantity)>=((null==t?void 0:t.stock)||0),className:"flex items-center justify-center w-8 h-8 bg-gray-100 hover:bg-green-100 text-gray-600 hover:text-green-600 rounded-md border transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)(i.OiG,{className:"w-3 h-3"})})]}):(0,r.jsxs)("button",{onClick:C,disabled:k||p,className:(0,c.QP)("relative flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-300 transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none overflow-hidden",(()=>{switch(u){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white border-blue-600 hover:border-blue-700";case"outline":return"bg-transparent border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white";case"minimal":return"bg-gray-100 hover:bg-gray-200 text-gray-800 border-gray-300";default:return"bg-transparent border border-sky-500 text-sky-600 hover:bg-sky-500 hover:text-white"}})(),(()=>{switch(m){case"sm":return"px-3 py-1.5 text-sm";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2 text-base"}})(),k&&"bg-gray-300 border-gray-300 text-gray-500 hover:bg-gray-300 hover:text-gray-500",f&&"bg-green-500 border-green-500 text-white hover:bg-green-500 animate-pulse",p&&"cursor-not-allowed",s),children:[p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Adding..."})]}):f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.CMH,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Added!"})]}):k?(0,r.jsx)("span",{children:"Out of Stock"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.AsH,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Add to Cart"})]}),!k&&(0,r.jsx)("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 group-active:opacity-20 transition-opacity duration-150"})})]})}):(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("button",{disabled:!0,className:(0,c.QP)("relative flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-300 transform disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden","bg-theme-color/80 text-white px-4 py-2 text-base",s),children:[(0,r.jsx)(d.AsH,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Add to Cart"})]})})}},2014:(e,t,s)=>{"use strict";s.d(t,{CurrencyProvider:()=>d,H:()=>o});var r=s(5155),a=s(2115);let l=(0,a.createContext)(void 0),n={USD:{symbol:"$",name:"US Dollar"},EUR:{symbol:"€",name:"Euro"},GBP:{symbol:"\xa3",name:"British Pound"},JPY:{symbol:"\xa5",name:"Japanese Yen"},CAD:{symbol:"C$",name:"Canadian Dollar"},AUD:{symbol:"A$",name:"Australian Dollar"},CHF:{symbol:"CHF",name:"Swiss Franc"},CNY:{symbol:"\xa5",name:"Chinese Yuan"},KRW:{symbol:"₩",name:"Korean Won"},INR:{symbol:"₹",name:"Indian Rupee"},BDT:{symbol:"৳",name:"Bangladeshi Taka"},PKR:{symbol:"₨",name:"Pakistani Rupee"}},i={USD:1,EUR:.85,GBP:.73,JPY:110,CAD:1.25,AUD:1.35,CHF:.92,CNY:6.45,KRW:1300,INR:83.25,BDT:109.5,PKR:278.5},d=e=>{let{children:t}=e,[s,d]=(0,a.useState)("KRW"),[o,c]=(0,a.useState)(i);return(0,a.useEffect)(()=>{{let e=localStorage.getItem("selectedCurrency");e&&n[e]&&d(e)}},[]),(0,a.useEffect)(()=>{let e=async()=>{let e={...i};Object.keys(e).forEach(t=>{if("USD"!==t){let s=(Math.random()-.5)*.02;e[t]*=1+s}}),c(e)};e();let t=setInterval(e,3e5);return()=>clearInterval(t)},[]),(0,r.jsx)(l.Provider,{value:{selectedCurrency:s,setCurrency:e=>{d(e),localStorage.setItem("selectedCurrency",e)},exchangeRates:o,convertPrice:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return t===s?e:e/o[t]*o[s]},getCurrencySymbol:e=>{var t;return(null==(t=n[e])?void 0:t.symbol)||"$"},getCurrencyName:e=>{var t;return(null==(t=n[e])?void 0:t.name)||"US Dollar"}},children:t})},o=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},2058:(e,t,s)=>{"use strict";s.d(t,{default:()=>H});var r=s(5155),a=s(4540),l=s(2115),n=s(2785),i=s(6874),d=s.n(i),o=s(4846),c=s(172),u=s(1013);let m=(0,s(5710).Z0)({name:"getkkul",initialState:{cart:[],favorite:[],userInfo:null},reducers:{addToCart:(e,t)=>{var s;let r=null==e||null==(s=e.cart)?void 0:s.find(e=>{var s;return(null==e?void 0:e.id)===(null==(s=t.payload)?void 0:s.id)});r?r.quantity+=1:e.cart.push({...t.payload,quantity:1})},increaseQuantity:(e,t)=>{var s;let r=null==e||null==(s=e.cart)?void 0:s.find(e=>(null==e?void 0:e.id)===t.payload);r&&(r.quantity+=1)},decreaseQuantity:(e,t)=>{var s;let r=null==e||null==(s=e.cart)?void 0:s.find(e=>(null==e?void 0:e.id)===t.payload);r&&(r.quantity-=1)},removeFromCart:(e,t)=>{e.cart=e.cart.filter(e=>(null==e?void 0:e.id)!==t.payload)},resetCart:e=>{e.cart=[]},addToFavorite:(e,t)=>{var s;(null==e||null==(s=e.favorite)?void 0:s.find(e=>{var s;return(null==e?void 0:e.id)===(null==(s=t.payload)?void 0:s.id)}))?e.favorite=e.favorite.filter(e=>(null==e?void 0:e.id)!==t.payload.id):e.favorite.push(t.payload)},resetFavorite:e=>{e.favorite=[]},addUser:(e,t)=>{e.userInfo=t.payload},updateUser:(e,t)=>{e.userInfo&&(e.userInfo={...e.userInfo,...t.payload})},removeUser:e=>{e.userInfo=null}}}),{addToCart:x,addUser:h,updateUser:g,removeUser:b,increaseQuantity:y,decreaseQuantity:p,removeFromCart:v,resetCart:f,addToFavorite:j,resetFavorite:N}=m.actions;m.reducer;var w=s(4438),C=s(9911);let k=e=>{let{product:t}=e,s=(0,a.wA)();return(0,r.jsxs)("div",{className:"flex py-6 sm:py-10",children:[(0,r.jsx)(d(),{href:{pathname:"/products/".concat(null==t?void 0:t.id),query:{id:null==t?void 0:t.id}},className:"h-24 w-24 sm:h-48 sm:w-48 border border-sky-color/30 hover:border-sky-color overflow-hidden flex items-center justify-center rounded-md",children:(0,r.jsx)("img",{src:null==t?void 0:t.images[0],alt:"productImage",className:"h-full w-full p-2 rounded-md object-contain bg-[#f7f7f7] hover:scale-110 duration-200"})}),(0,r.jsxs)("div",{className:"ml-4 sm:ml-6 flex flex-1 flex-col justify-between",children:[(0,r.jsxs)("div",{className:"relative pr-9 sm:grid sm:grid-cols-4 sm:gap-x-6 sm:pr-0",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1 col-span-3",children:[(0,r.jsx)("h3",{className:"text-base font-semibold w-full",children:null==t?void 0:t.title.substring(0,80)}),(0,r.jsxs)("p",{className:"text-xs",children:["Brand: ",(0,r.jsx)("span",{className:"font-medium",children:null==t?void 0:t.brand})]}),(0,r.jsxs)("p",{className:"text-xs",children:["Category: ",(0,r.jsx)("span",{className:"font-medium",children:null==t?void 0:t.category})]}),(0,r.jsxs)("div",{className:"flex items-center gap-6 mt-2",children:[(0,r.jsx)(o.default,{amount:(null==t?void 0:t.price)*(null==t?void 0:t.quantity),className:"text-base font-semibold"}),(0,r.jsx)(c.default,{product:t,className:"gap-5"})]})]}),(0,r.jsx)("div",{className:"mt-4 sm:mt-0 sm:pr-9",children:(0,r.jsx)("div",{className:"absolute right-0 top-0",children:(0,r.jsx)("button",{onClick:()=>{s(v(null==t?void 0:t.id)),w.Ay.success("".concat(null==t?void 0:t.title.substring(0,20)," deleted successfully!"))},className:" p-2 text-gray-600 hover:text-red-600",children:(0,r.jsx)(u.$8F,{})})})})]}),(0,r.jsxs)("div",{children:[(null==t?void 0:t.availabilityStatus)&&(0,r.jsxs)("p",{className:"mt-4 flex space-x-2 text-sm text-gray-700",children:[(0,r.jsx)(C.CMH,{className:"text-lg text-green-500"})," ",(0,r.jsx)("span",{children:"In Stock"})]}),(0,r.jsxs)("p",{className:"text-sm",children:["You are saving"," ",(0,r.jsx)(o.default,{className:"text-semibold text-green-500",amount:(null==t?void 0:t.price)*((null==t?void 0:t.discountPercentage)/100)*t.quantity})," ","upon purchase"]})]})]})]})};var S=s(6558),A=s(3741),P=s(8919),D=s(5762),E=s(351);function F(e){var t;let{selectedAddress:s,onAddressSelect:a}=e,{data:n}=(0,P.wV)(),[i,d]=(0,l.useState)([]),[o,c]=(0,l.useState)(!0),[u,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{var e;(null==n||null==(e=n.user)?void 0:e.email)?g():c(!1)},[null==n||null==(t=n.user)?void 0:t.email]);let g=async()=>{try{var e,t;c(!0);let r=await fetch("/api/user/profile?email=".concat(encodeURIComponent((null==n||null==(e=n.user)?void 0:e.email)||"")));if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let l=await r.json();if((null==(t=l.profile)?void 0:t.addresses)&&Array.isArray(l.profile.addresses)){let e=l.profile.addresses;d(e);let t=e.find(e=>e.isDefault)||e[0]||null;t&&!s&&a(t)}else console.log("No addresses found in profile"),d([])}catch(e){console.error("Error fetching addresses:",e),d([])}finally{c(!1)}},b=async e=>{try{var t;let{id:s,...r}=e,l={...r,id:Date.now().toString()},i=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:null==n||null==(t=n.user)?void 0:t.email,addAddress:l})});if(i.ok)await g(),m(!1),a(l);else{let e=await i.json();console.error("Failed to add address:",e),alert("Failed to add address: ".concat(e.error||"Unknown error"))}}catch(e){console.error("Error adding address:",e),alert("Failed to add address. Please try again.")}},y=e=>"".concat(e.street,", ").concat(e.city,", ").concat(e.state," ").concat(e.zipCode,", ").concat(e.country);return(null==n?void 0:n.user)?o?(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/3 mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})}):(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,r.jsx)(E.HzC,{className:"mr-2 text-theme-color"}),"Shipping Address"]}),i.length>0&&(0,r.jsx)("button",{onClick:()=>h(!x),className:"text-sm text-theme-color hover:text-theme-color/80",children:x?"Collapse":"Change"})]}),0===i.length?(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsx)(E.HzC,{className:"mx-auto text-4xl text-gray-300 mb-3"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No shipping addresses found"}),(0,r.jsxs)(A.default,{onClick:()=>m(!0),className:"bg-theme-color hover:bg-theme-color/90",children:[(0,r.jsx)(E.GGD,{className:"mr-2"}),"Add Shipping Address"]})]}):(0,r.jsxs)(r.Fragment,{children:[s&&!x&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-1",children:[(0,r.jsx)(E.YrT,{className:"text-green-600 mr-1 text-sm"}),(0,r.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Selected Address"}),s.isDefault&&(0,r.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Default"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:y(s)})]})})}),x&&(0,r.jsxs)("div",{className:"space-y-3",children:[i.map((e,t)=>(0,r.jsx)("div",{className:"border rounded-lg p-3 cursor-pointer transition-all ".concat((null==s?void 0:s.id)===e.id?"border-theme-color bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{a(e),h(!1)},children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center mb-1",children:[(null==s?void 0:s.id)===e.id&&(0,r.jsx)(E.YrT,{className:"text-theme-color mr-2 text-sm"}),e.isDefault&&(0,r.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full mr-2",children:"Default"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:y(e)})]})})},e.id||t)),(0,r.jsxs)("button",{onClick:()=>m(!0),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-3 text-gray-500 hover:border-theme-color hover:text-theme-color transition-all flex items-center justify-center",children:[(0,r.jsx)(E.GGD,{className:"mr-2"}),"Add New Address"]})]})]})]}),u&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Add New Address"}),(0,r.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)(D.A,{onSubmit:b,onCancel:()=>m(!1),loading:!1,isEdit:!1})]})})})]}):(0,r.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center text-orange-800",children:[(0,r.jsx)(E.HzC,{className:"text-orange-600 text-lg mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Please sign in to manage shipping addresses"})]})})}var B=s(5695),I=s(4408),T=s(9509);let U=e=>{let{cart:t}=e,[s,n]=(0,l.useState)(0),[i,c]=(0,l.useState)(0),[u,m]=(0,l.useState)(0),[x,h]=(0,l.useState)(!1),[g,b]=(0,l.useState)(null),[y,p]=(0,l.useState)(!1),{data:v}=(0,P.wV)(),j=(0,B.useRouter)(),N=(0,a.wA)(),w=Number(T.env.NEXT_PUBLIC_FREE_SHIPPING_THRESHOLD)||1e3;(0,l.useEffect)(()=>{let e=0,s=0;null==t||t.map(t=>{e+=(null==t?void 0:t.price)*(null==t?void 0:t.quantity),s+=(null==t?void 0:t.price)*(null==t?void 0:t.discountPercentage)/100*(null==t?void 0:t.quantity)}),n(e),c(s),e-s>=w?(h(!0),m(0)):(h(!1),m(15))},[t,w]);let k=async()=>{if(!(null==v?void 0:v.user))return void j.push("/auth/signin?callbackUrl=/cart");if(!g)return void alert("Please select a shipping address before placing your order.");try{var e,r;p(!0);let a=s-i+u,l={items:t.map(e=>({id:e.id,name:e.title,price:e.price*(1-e.discountPercentage/100),quantity:e.quantity,images:e.images,total:e.price*(1-e.discountPercentage/100)*e.quantity})),amount:a.toString(),currency:"USD",status:"confirmed",paymentStatus:"pending",customerEmail:null==v||null==(e=v.user)?void 0:e.email,customerName:null==v||null==(r=v.user)?void 0:r.name,shippingAddress:g,createdAt:new Date().toISOString()},n=await fetch("/api/orders/place",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(n.ok){let e=await n.json();N(f()),j.push("/checkout?orderId=".concat(e.orderId))}else throw Error("Failed to place order")}catch(e){console.error("Error placing order:",e),alert("Failed to place order. Please try again.")}finally{p(!1)}},D=(null==v?void 0:v.user)&&(!g||y);return(0,r.jsxs)("section",{className:"rounded-lg bg-gray-100 px-4 py-6 sm:p-10 lg:col-span-5 mt-16 lg:mt-0",children:[(0,r.jsx)(S.A,{children:"Cart Summary"}),(null==v?void 0:v.user)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F,{selectedAddress:g,onAddressSelect:b}),D&&(0,r.jsx)("div",{className:"mb-6 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center text-orange-800",children:[(0,r.jsx)(E.y3G,{className:"text-orange-600 text-lg mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Please select a shipping address to proceed with checkout"})]})})]}):(0,r.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(C.Zu,{className:"text-blue-600 text-lg mr-3 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-blue-800 font-medium mb-2",children:"Login Required to Place Order"}),(0,r.jsx)("p",{className:"text-blue-700 text-sm mb-3",children:"You can browse and add items to your cart, but you'll need to sign in to complete your purchase and access checkout."}),(0,r.jsxs)(d(),{href:"/auth/signin?callbackUrl=/cart",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium underline",children:[(0,r.jsx)(C.Zu,{className:"w-3 h-3"}),"Sign in to continue"]})]})]})}),x?(0,r.jsx)("div",{className:"mt-4 mb-6 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center text-green-800",children:[(0,r.jsx)(I.wXW,{className:"text-green-600 text-xl mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"\uD83C\uDF89 Congratulations! You qualify for FREE shipping!"})]})}):(0,r.jsx)("div",{className:"mt-4 mb-6 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center text-blue-800",children:[(0,r.jsx)(I.wXW,{className:"text-blue-600 text-xl mr-2"}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:"font-medium",children:["Add"," ",(0,r.jsx)(o.default,{amount:w-(s-i),className:"font-bold"})," ","more for FREE shipping!"]}),(0,r.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:["Free shipping on orders over"," ",(0,r.jsx)(o.default,{amount:w})]})]})]})}),(0,r.jsxs)("div",{className:"mt-5 flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(S.A,{className:"text-lg font-medium",children:"Sub Total"}),(0,r.jsx)(o.default,{amount:s})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(S.A,{className:"text-lg font-medium",children:"Discount"}),(0,r.jsx)(o.default,{amount:i})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(S.A,{className:"text-lg font-medium",children:"Shipping"}),x&&(0,r.jsx)("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"FREE"})]}),x?(0,r.jsx)("span",{className:"text-green-600 font-medium",children:"Free"}):(0,r.jsx)(o.default,{amount:u})]}),(0,r.jsxs)("div",{className:"border-t border-gray-300 pt-3 flex items-center justify-between",children:[(0,r.jsx)(S.A,{className:"text-lg font-bold",children:"Total Amount"}),(0,r.jsx)(o.default,{amount:s-i+u,className:"text-lg font-bold text-theme-color"})]}),(0,r.jsx)(A.default,{onClick:k,className:"mt-4 ".concat(D?"opacity-50 cursor-not-allowed":""),disabled:D,children:(null==v?void 0:v.user)?y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.TwU,{className:"animate-spin mr-2"}),"Placing Order..."]}):g?"Place Order":"Select Address to Place Order":"Sign in to Place Order"})]})]})},q=e=>{let{itemCount:t=3}=e;return(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-8 w-64 mb-10"}),(0,r.jsxs)("div",{className:"lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12",children:[(0,r.jsx)("section",{className:"lg:col-span-7",children:(0,r.jsx)("div",{className:"divide-y divide-gray-200 border-b border-t border-gray-200",children:Array.from({length:t}).map((e,t)=>(0,r.jsxs)("div",{className:"flex py-6 sm:py-10",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded-lg h-24 w-24 sm:h-48 sm:w-48 flex-shrink-0"}),(0,r.jsx)("div",{className:"ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:(0,r.jsxs)("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-6 w-3/4 mb-2"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-1/2 mb-3"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-1/3 mb-2"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-1/4"})]}),(0,r.jsxs)("div",{className:"mt-4 sm:mt-0 sm:pr-9",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-6 w-20 mb-4"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-8 w-8"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-8 w-12"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-8 w-8"})]}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-8 w-16"})]})]})})]},t))})}),(0,r.jsxs)("section",{className:"mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-6 w-32 mb-6"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-20"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-16"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-16"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-12"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-10"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-14"})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-5 w-16"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-5 w-20"})]})})]}),(0,r.jsx)("div",{className:"bg-gray-200 rounded-md h-12 w-full mt-6"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-32 mx-auto mt-6"}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-40 mb-3"}),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-12 w-full"})]})]})]})]})},H=()=>{let{cart:e}=(0,a.d4)(e=>null==e?void 0:e.getkkul),[t,s]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=setTimeout(()=>{s(!1)},500);return()=>clearTimeout(e)},[]),t)?(0,r.jsx)(n.A,{children:(0,r.jsx)(q,{})}):(0,r.jsx)(n.A,{children:(null==e?void 0:e.length)>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Shopping Cart"}),(0,r.jsxs)("div",{className:"mt-10 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-1 2",children:[(0,r.jsx)("section",{className:"lg:col-span-7",children:(0,r.jsx)("div",{className:" divide-y divide-gray-200 border-b border-t border-gray-200",children:null==e?void 0:e.map(e=>(0,r.jsx)(k,{product:e},null==e?void 0:e.id))})}),(0,r.jsx)(U,{cart:e})]})]}):(0,r.jsxs)("div",{className:"bg-white h-96 my-10 flex flex-col gap-4 items-center justify-center py-5 rounded-lg border border-gray-200 drop-shadow-2xl",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Shopping Cart"}),(0,r.jsx)("p",{className:"text-base max-w-[700px] text-center text-gray-600 tracking-wide leading-6",children:"Your cart is empty. Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate in ab blanditiis officiis deleniti, amet omnis esse quisquam voluptates, eveniet, illo magnam error odit modi cumque minima a fugit aut."}),(0,r.jsx)(d(),{className:"bg-sky-color/90 text-gray-100 px-8 py-4 rounded-md hover:bg-sky-color duration-200 uppercase text-sm font-semibold tracking-wide",href:"/",children:"go to shopping"})]})})}},2740:(e,t,s)=>{"use strict";s.d(t,{Xr:()=>r,i6:()=>l,jM:()=>a});let r=[{code:"BD",name:"Bangladesh",cities:["Dhaka","Chittagong","Sylhet","Khulna","Rajshahi","Rangpur","Barisal","Mymensingh","Cumilla","Narayanganj","Gazipur","Tongi","Jessore","Bogra","Dinajpur"]},{code:"US",name:"United States",cities:["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington DC","Boston","El Paso","Nashville","Detroit","Oklahoma City","Portland","Las Vegas","Memphis","Louisville","Baltimore"]},{code:"IN",name:"India",cities:["Mumbai","Delhi","Bangalore","Hyderabad","Ahmedabad","Chennai","Kolkata","Surat","Pune","Jaipur","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Pimpri-Chinchwad","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad"]},{code:"CA",name:"Canada",cities:["Toronto","Montreal","Vancouver","Calgary","Edmonton","Ottawa","Winnipeg","Quebec City","Hamilton","Kitchener","London","Victoria","Halifax","Oshawa","Windsor","Saskatoon","St. Catharines","Regina","Sherbrooke","Barrie"]},{code:"GB",name:"United Kingdom",cities:["London","Birmingham","Manchester","Leeds","Liverpool","Sheffield","Bristol","Glasgow","Leicester","Edinburgh","Coventry","Bradford","Cardiff","Belfast","Nottingham","Hull","Newcastle","Stoke-on-Trent","Southampton","Derby"]},{code:"AU",name:"Australia",cities:["Sydney","Melbourne","Brisbane","Perth","Adelaide","Gold Coast","Newcastle","Canberra","Sunshine Coast","Wollongong","Hobart","Geelong","Townsville","Cairns","Darwin","Toowoomba","Ballarat","Bendigo","Albury","Launceston"]},{code:"DE",name:"Germany",cities:["Berlin","Hamburg","Munich","Cologne","Frankfurt","Stuttgart","D\xfcsseldorf","Dortmund","Essen","Leipzig","Bremen","Dresden","Hanover","Nuremberg","Duisburg","Bochum","Wuppertal","Bielefeld","Bonn","M\xfcnster"]},{code:"FR",name:"France",cities:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-\xc9tienne","Toulon","Angers","Grenoble","Dijon","N\xeemes","Aix-en-Provence"]}];function a(e){return r.find(t=>t.code===e)}function l(e){let t=a(e);return t?t.cities:[]}},2785:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155),a=s(9688);let l=e=>{let{children:t,className:s}=e;return(0,r.jsx)("div",{className:(0,a.QP)("max-w-[1140px] mx-auto px-4 lg:px-0",s),children:t})}},3741:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(5155),a=s(6874),l=s.n(a),n=s(9688);let i=e=>{let{children:t,className:s,href:a,onClick:i,variant:d="primary",size:o="md",disabled:c=!1,type:u="button"}=e,m=(0,n.QP)("inline-flex items-center justify-center font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-theme-color/80 text-white hover:bg-theme-color focus:ring-theme-color",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-900 hover:bg-gray-900 hover:text-white focus:ring-gray-500"}[d],{sm:"px-3 py-1.5 text-sm",md:"px-6 py-2 text-base",lg:"px-8 py-3 text-lg"}[o],c?"opacity-50 cursor-not-allowed":"cursor-pointer",s);return(0,r.jsx)(r.Fragment,{children:a?(0,r.jsx)(l(),{href:a,className:m,children:t}):(0,r.jsx)("button",{type:u,onClick:i,disabled:c,className:m,children:t})})}},4846:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155),a=s(9688),l=s(2014);let n=e=>{let{amount:t,className:s,fromCurrency:n="USD"}=e,{selectedCurrency:i,convertPrice:d}=(0,l.H)();if(!t)return(0,r.jsx)("span",{className:(0,a.QP)("font-medium",s),children:"-"});let o=d(t,n),c=!["JPY","BDT"].includes(i),u=new Intl.NumberFormat("en-US",{style:"currency",currency:i,minimumFractionDigits:2*!!c,maximumFractionDigits:2*!!c}).format(o);return(0,r.jsx)("span",{className:(0,a.QP)("font-medium",s),children:u})}},5762:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(5155),a=s(2115),l=s(2740);function n(e){let{address:t,onSubmit:s,onCancel:n,loading:i=!1,isEdit:d=!1,showSetDefault:o=!0}=e,[c,u]=(0,a.useState)({street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1,...t}),[m,x]=(0,a.useState)([]),[h,g]=(0,a.useState)({});(0,a.useEffect)(()=>{if(c.country){let e=(0,l.i6)(c.country);x(e),c.city&&!e.includes(c.city)&&u(e=>({...e,city:""}))}else x([])},[c.country]),(0,a.useEffect)(()=>{(null==t?void 0:t.country)&&x((0,l.i6)(t.country))},[t]);let b=e=>{let{name:t,value:s,type:r}=e.target,a="checkbox"===r&&e.target.checked;u(e=>({...e,[t]:"checkbox"===r?a:s})),h[t]&&g(e=>({...e,[t]:""}))};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{let e={};return c.street.trim()||(e.street="Street address is required"),c.city.trim()||(e.city="City is required"),c.state.trim()||(e.state="State/Province is required"),c.zipCode.trim()||(e.zipCode="ZIP/Postal code is required"),c.country||(e.country="Country is required"),g(e),0===Object.keys(e).length})()&&s(c)},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),(0,r.jsx)("input",{type:"text",name:"street",value:c.street,onChange:b,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(h.street?"border-red-500":"border-gray-300"),placeholder:"Enter your street address"}),h.street&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.street})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,r.jsxs)("select",{name:"country",value:c.country,onChange:b,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(h.country?"border-red-500":"border-gray-300"),children:[(0,r.jsx)("option",{value:"",children:"Select Country"}),l.Xr.map(e=>(0,r.jsx)("option",{value:e.code,children:e.name},e.code))]}),h.country&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.country})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),m.length>0?(0,r.jsxs)("select",{name:"city",value:c.city,onChange:b,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(h.city?"border-red-500":"border-gray-300"),children:[(0,r.jsx)("option",{value:"",children:"Select City"}),m.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}):(0,r.jsx)("input",{type:"text",name:"city",value:c.city,onChange:b,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(h.city?"border-red-500":"border-gray-300"),placeholder:c.country?"Select a country first":"Enter city name",disabled:!c.country}),h.city&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.city})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province *"}),(0,r.jsx)("input",{type:"text",name:"state",value:c.state,onChange:b,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(h.state?"border-red-500":"border-gray-300"),placeholder:"Enter state or province"}),h.state&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.state})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP/Postal Code *"}),(0,r.jsx)("input",{type:"text",name:"zipCode",value:c.zipCode,onChange:b,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-theme-color ".concat(h.zipCode?"border-red-500":"border-gray-300"),placeholder:"Enter ZIP or postal code"}),h.zipCode&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.zipCode})]}),!d&&o&&(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",name:"isDefault",checked:c.isDefault,onChange:b,className:"mr-2 h-4 w-4 text-theme-color focus:ring-theme-color border-gray-300 rounded"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Set as default address"})]})}),(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-6 border-t",children:[(0,r.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-theme-color text-white rounded-md hover:bg-theme-color/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),(0,r.jsx)("path",{fill:"currentColor",className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Updating...":"Adding..."]}):d?"Update Address":"Add Address"})]})]})}},6558:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155),a=s(9688);let l=e=>{let{children:t,className:s}=e;return(0,r.jsx)("h2",{className:(0,a.QP)("text-xl font-semibold flex items-center",s),children:t})}},7086:(e,t,s)=>{Promise.resolve().then(s.bind(s,2058))},9281:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>h,CG:()=>o,Pj:()=>m,a1:()=>i,bE:()=>a,iR:()=>u,nu:()=>l,o7:()=>d,wT:()=>x});let r=(0,s(5710).Z0)({name:"getkkul",initialState:{cart:[],favorite:[],userInfo:null},reducers:{addToCart:(e,t)=>{var s;let r=null==e||null==(s=e.cart)?void 0:s.find(e=>{var s;return(null==e?void 0:e.id)===(null==(s=t.payload)?void 0:s.id)});r?r.quantity+=1:e.cart.push({...t.payload,quantity:1})},increaseQuantity:(e,t)=>{var s;let r=null==e||null==(s=e.cart)?void 0:s.find(e=>(null==e?void 0:e.id)===t.payload);r&&(r.quantity+=1)},decreaseQuantity:(e,t)=>{var s;let r=null==e||null==(s=e.cart)?void 0:s.find(e=>(null==e?void 0:e.id)===t.payload);r&&(r.quantity-=1)},removeFromCart:(e,t)=>{e.cart=e.cart.filter(e=>(null==e?void 0:e.id)!==t.payload)},resetCart:e=>{e.cart=[]},addToFavorite:(e,t)=>{var s;(null==e||null==(s=e.favorite)?void 0:s.find(e=>{var s;return(null==e?void 0:e.id)===(null==(s=t.payload)?void 0:s.id)}))?e.favorite=e.favorite.filter(e=>(null==e?void 0:e.id)!==t.payload.id):e.favorite.push(t.payload)},resetFavorite:e=>{e.favorite=[]},addUser:(e,t)=>{e.userInfo=t.payload},updateUser:(e,t)=>{e.userInfo&&(e.userInfo={...e.userInfo,...t.payload})},removeUser:e=>{e.userInfo=null}}}),{addToCart:a,addUser:l,updateUser:n,removeUser:i,increaseQuantity:d,decreaseQuantity:o,removeFromCart:c,resetCart:u,addToFavorite:m,resetFavorite:x}=r.actions,h=r.reducer}},e=>{e.O(0,[7128,6804,1495,4575,1261,7538,8681,4679,734,4610,8641,6546,4314,296,1436,2448,1294,4162,7358],()=>e(e.s=7086)),_N_E=e.O()}]);